<!doctype htl>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>amenti:Room</title>
  <link rel="stylesheet" href="../style/base.css">
</head>
<body>
  <header></header>
  <nav></nav>
  <main></main>
  <footer></footer>
  
  <script src="../../dist/amenti.min.js"></script>
  
  <script>

    // first we are going to create a few rooms
    var header = new amenti.Room({
      selector: "header",
      template: `
        <h1 class="logo">amenti:Room</h1>
      `
    });
    
    var main = new amenti.Room({
      selector: "main",
      template: `
        <h2>Room</h2>
        <p>This is your basic room.  A place where you can do stuff.  What you can do is really upto you.  Amenti is build on a flexible class architecture that allows you to pass in what ever properties you want, and interact with them on a state by state basis.</p>
        
        <h3>Here are your Room need to knows.</h3>
        A room is like a room in a house.  It holds all your stuff.

        <h4>Properties</h4>
        <dl>
          <dt>room.id</dt>
          <dd>opts.id or random number</dd>
          <dt>room.selector</dt>
          <dd>opts.selector or body: The dom selector that will contain the room</dd>
          <dt>room.el</dt>
          <dd>room.el: is the element of the selector.</dd>
          <dt>room.template</dt>
          <dd>opts.template or body: The html template string for the room</dd>
          <dt>room.onOpen</dt>
          <dd>opts.onOpen: function to execute when the room opens.</dd>
          <dt>room.onBuild</dt>
          <dd>opts.onBuild: function to execute when teh room builds.</dd>
          <dt>room.states</dt>
          <dd>
            Default room states.
            <ul>
              <li>lock</li>
              <li>open</li>
              <li>close</li>
              <li>build</li>
            </ul>
          </dd>
        </dl>

        <h4>Methods</h4>
        <h5>Room Methods</h5>
        <dl>
          <dt>room.open()</dt>
          <dd>Build the room and execute the onOpen function then return a resolved promise.  Can be interacted with by setting the state of the room or calling the method directly.</dd>
          <dt>room.close()</dt>
          <dd>Run the close procedure and then return a resolved promise.</dd>
          <dt>room.build()</dt>
          <dd>Build method that inserts the template html into the room selector</dd>
          <dt>room.destroy()</dt>
          <dd>Clear the content on the room selector.</dd>
        </dl>
        <h5>State Methods</h5>
        <cite></cite>
        <cite>Methods used to interact with the state of a room.</cite>
        <dl>
          <dt>room.state.set(state)</dt>
          <dd>Set a ste for a room, and then speak the leaving, entering, entered events. ie: <span class="code">room.state.set("*state*");</span></dd>
          <dt>room.state.get(state)</dt>
          <dd>Get the current state of a room.</dd>
          <dt>room.state.add("state")</dt>
          <dd>Add a state to the current this._states</dd>
          <dt>room.state.speak(msg, resource)</dt>
          <dd>Speak a message from the current holder of the state machine with an optional data resource.</dd>
          <dt>room.state.listen(msg, callback)</dt>
          <dd>Liseten for a message on the current holder of the state machine and execute a callback.</dd>
          <dt>room.state.once(msg, callback)</dt>
          <dd>Listen once for a message on the current holder of the state machine and execute a callabck.</dd>
          <dt>room.state.remove(msg, callback)</dt>
          <dd>Remove a listener from the holder of the current state machine, and it's callback.</dd>
        </dl>
      `
    });
    
    var footer = new amenti.Room({
      selector: "footer",
      template: `
        <h3>Footer</h3>
      `
    });
    
    header.open();
    main.open();
    footer.open();

    // now if you wanted todo more you could implement a state machine.  or use JQuery/Zepto for dom events.
  </script>
</body>
</html>
